---
title: 算法_字符串_通配符匹配
date:  2020-02-16 14:42:18 +0800
category: 算法
tags: 字符串
excerpt:
---

[通配符匹配](https://leetcode-cn.com/problems/wildcard-matching/"通配符匹配")


```c++
#include <iostream>
#include<vector>
#include<regex>
using namespace std;

 
class Solution {
public:
    bool isMatch(string s, string p) {
        string regstr = getRegStr(p);
        if ((regstr.empty())&& !(s.empty()))
        {
            return false;
        }

        regex myregex(regstr);
        //cout<<getRegStr(p)<<endl;
        return regex_search(s,myregex);
    }
    string getRegStr(string pstr)
    {
        string regStr= "";
        if(pstr.empty())
        {
            return regStr;
        }
        regStr +="^";
        int strlen = pstr.length();
        char pre = '>';
        for (int i = 0; i < strlen; i++)
        {
            if (pstr[i] == '?')
            {
                pre = pstr[i];
                regStr += ".";
            }
            else if (pstr[i] == '*'  &&  pre != '*')
            {
                pre = pstr[i];
                regStr += ".*";
            }
            else if (pstr[i] == '*'  &&  pre == '*')
            {
                pre = pstr[i];
                continue;
            }
            else
            {
                pre = pstr[i];
                string tempstr ;
                tempstr.push_back(pstr[i]);
                regStr +=  tempstr;
            }
        }
        if ((pstr[strlen-1] == '*' ) || (pstr[strlen-1]== '?'))
        {
           // cout<<regStr<<endl;
            return regStr+"$";
        }
        else
        {
            return regStr+"$";
        }
    }
};

int main()
{
    Solution ss;
    regex regtest("^a$");
   // cout << regex_search("aa",regtest)<< endl;
    cout <<  ss.isMatch("aaaabaaaabbbbaabbbaabbaababbabbaaaababaaabbbbbbaabbbabababbaaabaabaaaaaabbaabbbbaababbababaabbbaababbbba","*****b*aba***babaa*bbaba***a*aaba*b*aa**a*b**ba***a*a*") << endl;
    return 0;
}


```
